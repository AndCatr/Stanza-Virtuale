<script>
    function aggiornaChat() {
        fetch("{{ url_for('aggiorna_chat', codice=codice) }}")
            .then(response => response.json())
            .then(data => {
                let chatBox = document.getElementById("chat");
                chatBox.innerHTML = "";
                data.chat.forEach(msg => {
                    let p = document.createElement("p");
                    p.innerHTML = `<strong>${msg[0]}:</strong> ${msg[1]}`;
                    chatBox.appendChild(p);
                });
            });
    }

    function aggiornaNumeri() {
        fetch("{{ url_for('aggiorna_numeri', codice=codice) }}")
            .then(response => response.json())
            .then(data => {
                document.getElementById("num_penelope").innerText = data.numero_penelope;
                document.getElementById("num_eric").innerText = data.numero_eric;
            });
    }

    setInterval(aggiornaChat, 2000);
    setInterval(aggiornaNumeri, 2000);
</script>
